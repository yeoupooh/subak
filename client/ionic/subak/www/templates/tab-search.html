<ion-view title="Search" ng-controller="SearchController as vm">
  <ion-content ng-controller="TracksController" ng-init="initTracks('search'); setListener('searchEngineChanged');">

    <ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()" spinner="none" disable-pulling-rotation="true">
    </ion-refresher>

    <message></message>

    <div class="item item-input item-select">
      <div class="input-label">
        Search
      </div>
      <select ng-model="vm.selectedChart" ng-change="vm.onSearchEngineChange()">
        <option value="">-- choose engine --</option>
        <option value="{{engine}}" ng-repeat="engine in vm.engines">{{engine.name}}</option>
      </select>
    </div>

    <form ng-submit="search(keyword)">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="search" placeholder="Search" ng-model="keyword">
      </label>
    </form>

    <track-list></track-list>

  </ion-content>
</ion-view>
